@model BudgetingApplication.Models.indexModelView
@{
    Layout = "~/Views/_Layout.cshtml";
}
<script>
    $(document).ready(function () {
        $('#showDonut').on('click', function () {
            $('#donutChart').show();
            $('#barChart').hide();
            $('#showDonut').hide();
            $('#showBar').show();
        })
        $('#showBar').on('click', function () {
            $('#barChart').show();
            $('#donutChart').hide();
            $('#showBar').hide();
            $('#showDonut').show();
        })
    });
</script>

<div class="col-md-offset-8 col-md-2">
    <p id="showDonut" class="btn btn-info" style="display:none;">Show Donut</p>
    <p id="showBar" class="btn btn-info" >Show Bar</p>
</div>
<div id="donutChart" class="col-md-offset-3 col-md-6">
    <canvas id="chart-area" height="250"/>
</div>
<div id="barChart" class="col-md-offset-3 col-md-6" style="display:none;">
    <canvas id="graph-chart" />
</div>
<div class="col-md-3" style="border: 1px solid #ccc;
    margin-top: 55px;
    padding-top: 10px;
    border-radius: 25px;
    background-color: #efefef;">    
    <p>Month's Income: $@Model.budgetGoals.budgetView.Where(x => x.GoalCategory == 1).Sum(x => x.TransactionAmount)</p>
    <p>Month's Spending: $@Model.budgetGoals.budgetView.Where(x => x.GoalCategory != 1).Sum(x => x.TransactionAmount)</p>
</div>
<div class="col-md-12">
    <hr />
    </div>
<div class="col-md-12"><center><h2>My Budget</h2></center></div>
    <div class="col-md-12">
        @{
            foreach (var item in Model.budgetGoals.budgetView)
            {
                @Html.Partial("~/Views/BudgetGoals/_ListGoals.cshtml", item)
            }
        }
    </div>



    @*<div class="col-md-3">
            <div id='calendar'></div>
        </div>

    *@

@section sidebar {
   <div>
       <div style="border-bottom:1px solid">
           <h2>Accounts</h2>
       </div>
       <div>
           Total: @Model.transactions.Sum(x=>x.TransactionAmount)
       </div>
       <div>
           @{ 
               string cssClass = "text-success";
               foreach(var item in Model.transactions)
               {
                   <div>
                       <h3>@item.Description</h3>
                   </div>
                <div>
                    @{
                        if (item.TransactionAmount < 0)
                        {
                            cssClass = "text-danger";
                       }
                   }
                    <p class="@cssClass">$@item.TransactionAmount</p>
                </div>
               }
        }
       </div>
       <hr />

    </div>
     }